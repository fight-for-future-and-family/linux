<!DOCTYPE html>
<!-- saved from url=(0048)http://www.voidcn.com/article/p-hwdtjdxx-kd.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>linux之路由知识之ip route 命令中的疑惑 - 程序园</title>
    <meta name="keywords" content="linux,路由,知识,ip,route,命令,中,疑惑">
    <meta name="description" content="1.基础知识 1.1 路由 （Routing） 1.1.1 路由策略 （使用 ip rule 命令操作路由策略数据库）     基于策略的路由比传统路由在功能上更强大，使用更灵活，它使网络管理员不仅能够根据目的地址而且能够根据报文大小、应用或IP源地址等属性来选择转发路径。 ip rule 命令： Usage: ip rule [ list | add | del ] SELECTOR ACTIO">
    <meta name="google-site-verification" content="eVo932LL8QghamZXYXdbvMxZcdr2v6nNXj2f7mfA1cw">
    
    <link rel="shortcut icon" href="http://static02.voidcn.com/voidcn/favicon.ico" type="image/x-icon">
    <link href="./linux之路由知识之ip route 命令中的疑惑 - 程序园_files/pub.min.css" rel="stylesheet">
    <link href="./linux之路由知识之ip route 命令中的疑惑 - 程序园_files/application.min.css" media="screen" rel="stylesheet" type="text/css">
    <link href="./linux之路由知识之ip route 命令中的疑惑 - 程序园_files/font-awesome.css" rel="stylesheet">
    
    <script src="./linux之路由知识之ip route 命令中的疑惑 - 程序园_files/f.txt"></script><script src="./linux之路由知识之ip route 命令中的疑惑 - 程序园_files/hm.js.下载"></script><script src="./linux之路由知识之ip route 命令中的疑惑 - 程序园_files/ca-pub-6208739752673518.js.下载"></script><script src="./linux之路由知识之ip route 命令中的疑惑 - 程序园_files/pub.js.下载" type="text/javascript"></script>
    <script src="./linux之路由知识之ip route 命令中的疑惑 - 程序园_files/application.js.下载" type="text/javascript"></script>
    
<script src="./linux之路由知识之ip route 命令中的疑惑 - 程序园_files/share.js.下载"></script><link rel="preload" href="./linux之路由知识之ip route 命令中的疑惑 - 程序园_files/f(1).txt" as="script"><script type="text/javascript" src="./linux之路由知识之ip route 命令中的疑惑 - 程序园_files/f(1).txt"></script><link rel="preload" href="./linux之路由知识之ip route 命令中的疑惑 - 程序园_files/f(2).txt" as="script"><script type="text/javascript" src="./linux之路由知识之ip route 命令中的疑惑 - 程序园_files/f(2).txt"></script><link href="./linux之路由知识之ip route 命令中的疑惑 - 程序园_files/share.css" rel="styleSheet" type="text/css"></head>

<body class="  pace-done"><div class="pace  pace-inactive"><div class="pace-progress" data-progress-text="100%" data-progress="99" style="transform: translate3d(100%, 0px, 0px);">
  <div class="pace-progress-inner"></div>
</div>
<div class="pace-activity"></div></div>

<div id="header" class="navbar-fixed-top">
    <div class="container">
        <div class="navbar">
            <div class="navbar-inner">
                <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </a>
                <a href="http://www.voidcn.com/" class="brand">程序园</a>
                <nav class="nav-collapse collapse">
                    <ul class="nav navbar primary-nav">
                        <li class="">
                            <a href="http://www.voidcn.com/column">栏目</a>
                        </li>
                        <li class="">
                            <a href="http://www.voidcn.com/tag">标签</a>
                        </li>
                        <li class="">
                            <a href="http://www.voidcn.com/cata">分类</a>
                        </li>
                        <li class="">
                            <a href="http://www.voidcn.com/course">教程</a>
                        </li>
                        <li class="">
                            <a href="http://www.voidcn.com/code">代码</a>
                        </li>
                    </ul>
                    <form class="navbar-search pull-left" action="http://www.voidcn.com/gsearch">
						<input type="text" class="search-query span2" name="q" placeholder="搜索">
					</form>
                    <ul class="nav pull-right">
                        <li><a href="javascript:void()"></a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </div>
</div><link href="./linux之路由知识之ip route 命令中的疑惑 - 程序园_files/share(1).css" rel="stylesheet">
<link href="./linux之路由知识之ip route 命令中的疑惑 - 程序园_files/fontello.css" rel="stylesheet">

<div class="container-fluid">
	<div class="row-fluid article_row_fluid">

<div class="span9 contant article_detail_bg">

	<h1>linux之路由知识之ip route 命令中的疑惑</h1>
	
    <div class="article_meta">
        <div style="margin-bottom: 2px;">
    		<span class="timestamp">时间&nbsp;&nbsp;2016-12-27</span>
        </div>

			<div style="margin-bottom: 2px;">
		            <span>标签</span>
						<a target="_blank" href="http://www.voidcn.com/tag/linux" title="linux"> <span class="new-label">linux</span></a>
						<a target="_blank" href="http://www.voidcn.com/tag/ip" title="ip"> <span class="new-label">ip</span></a>
						<a target="_blank" href="http://www.voidcn.com/tag/route" title="route"> <span class="new-label">route</span></a>
						<a target="_blank" href="http://www.voidcn.com/tag/iptables" title="iptables"> <span class="new-label">iptables</span></a>
						<a target="_blank" href="http://www.voidcn.com/tag/ip+rule" title="ip rule"> <span class="new-label">ip rule</span></a>
					<span>栏目</span>
					<a target="_blank" href="http://www.voidcn.com/column/linux" title="Linux"> <span class="new-label">Linux</span></a>
	        </div>
        
	        <div>
	        	<span class="source">
	            	<i style="float:left;">原文</i>&nbsp;&nbsp;
	            	<a id="originfo" class="cut cut70" href="javascript:void()" target="_blank" tyle="display:inline-block;" rel="nofollow">http://blog.csdn.net/u011068702/article/details/53899537</a>
	    		</span>
	        </div>
    </div>
    <div class="article_body" id="nei">
	    	<div><script async="" src="./linux之路由知识之ip route 命令中的疑惑 - 程序园_files/f(3).txt"></script>
<!-- 正文顶部广告 -->
<ins class="adsbygoogle" style="display: block; height: 90px;" data-ad-client="ca-pub-6208739752673518" data-ad-slot="8264218718" data-ad-format="auto" data-adsbygoogle-status="done"><ins id="aswift_0_expand" style="display:inline-table;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:854px;background-color:transparent;"><ins id="aswift_0_anchor" style="display:block;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:854px;background-color:transparent;"><iframe width="854" height="90" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;width:854px;height:90px;" src="./linux之路由知识之ip route 命令中的疑惑 - 程序园_files/saved_resource.html"></iframe></ins></ins></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div>
        <div>
           <span id="Label3"></span> 
<h2 id="blogTitle0" style="padding:3px; font-size:21px; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; widows:1; background-color:rgb(164,211,238)"> 1.基础知识</h2> 
<h3 id="blogTitle1" style="margin-top:10px; margin-bottom:10px; font-size:16px; color:rgb(102,102,102); padding:3px; font-family:Verdana; widows:1; background-color:rgb(164,211,238)"> 1.1 路由 （Routing）</h3> 
<h4 style="padding:3px; font-size:14px; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; widows:1; background-color:rgb(164,211,238)"> 1.1.1 路由策略 （使用 ip rule 命令操作路由策略数据库）</h4> 
<p style="line-height:19.5px; margin:10px auto; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; widows:1"> &nbsp; &nbsp; 基于策略的路由比传统路由在功能上更强大，使用更灵活，它使网络管理员不仅能够根据目的地址而且能够根据报文大小、应用或IP源地址等属性来选择转发路径。</p> 
<div style="color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; line-height:19.5px; widows:1"> 
 <span style="font-size:14px; line-height:1.5">ip rule 命令：</span> 
</div> 
<ul style="list-style:none; margin-bottom:10px; margin-left:30px; padding-left:0px; font-size:12px; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; widows:1"> 
 <li style="list-style-type:disc">Usage: ip rule [ list | add | del ] SELECTOR ACTION （add 添加；del 删除； llist 列表）</li> 
 <li style="list-style-type:disc">SELECTOR := [ from PREFIX 数据包源地址] [ to PREFIX 数据包目的地址] [ tos TOS 服务类型][ dev STRING 物理接口] [ pref NUMBER ] [fwmark MARK iptables 标签]</li> 
 <li style="list-style-type:disc">ACTION := [ table TABLE_ID 指定所使用的路由表] [ nat ADDRESS 网络地址转换][ prohibit 丢弃该表| reject 拒绝该包| unreachable 丢弃该包]</li> 
 <li style="list-style-type:disc">[ flowid CLASSID ]</li> 
 <li style="list-style-type:disc">TABLE_ID := [ local | main | default | new | NUMBER ]</li> 
</ul> 
<p style="line-height:19.5px; margin:10px auto; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; widows:1"> <span style="line-height:1.5">例子：</span></p> 
<ul style="list-style:none; margin-bottom:10px; margin-left:30px; padding-left:0px; font-size:12px; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; widows:1"> 
 <li style="list-style-type:disc">ip rule add from 192.203.80/24 table inr.ruhep prio 220&nbsp;通过路由表 inr.ruhep 路由来自源地址为192.203.80/24的数据包&nbsp;</li> 
 <li style="list-style-type:disc">ip rule add from 193.233.7.83 nat 192.203.80.144 table 1 prio 320&nbsp;把源地址为193.233.7.83的数据报的源地址转换为192.203.80.144，并通过表1进行路由&nbsp;</li> 
</ul> 
<p style="line-height:19.5px; margin:10px auto; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; widows:1"> 在 Linux 系统启动时，内核会为路由策略数据库配置三条缺省的规则：&nbsp;</p> 
<ul style="list-style:none; margin-bottom:10px; margin-left:30px; padding-left:0px; font-size:12px; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; widows:1"> 
 <li style="list-style-type:disc">0 匹配任何条件 查询路由表local(ID 255) 路由表local是一个特殊的路由表，包含对于本地和广播地址的高优先级控制路由。rule 0非常特殊，不能被删除或者覆盖。&nbsp;&nbsp;</li> 
 <li style="list-style-type:disc">32766 匹配任何条件 查询路由表main(ID 254) 路由表main(ID 254)是一个通常的表，包含所有的无策略路由。系统管理员可以删除或者使用另外的规则覆盖这条规则。</li> 
 <li style="list-style-type:disc">32767 匹配任何条件 查询路由表default(ID 253) 路由表default(ID 253)是一个空表，它是为一些后续处理保留的。对于前面的缺省策略没有匹配到的数据包，系统使用这个策略进行处理。这个规则也可以删除。</li> 
</ul> 
<p style="line-height:19.5px; margin:10px auto; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; widows:1"> 不要混淆路由表和策略：规则指向路由表，多个规则可以引用一个路由表，而且某些路由表可以没有策略指向它。如果系统管理员删除了指向某个路由表的所有规则，这个表就没有用了，但是仍然存在，直到里面的所有路由都被删除，它才会消失。</p> 
<p style="line-height:19.5px; margin:10px auto; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; widows:1"> （<a target="_blank" href="javascript:void()" class="outlink" data="/link?url=http://blog.chinaunix.net/uid-27575921-id-5060664.html" style="color:rgb(26,139,200); text-decoration:none" rel="nofollow">资料来源</a>）</p> 
<h4 style="padding:3px; font-size:14px; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; widows:1; background-color:rgb(164,211,238)"> 1.1.2 路由表 （使用 ip route 命令操作静态路由表）</h4> 
<p style="line-height:19.5px; margin:10px auto; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; widows:1"> &nbsp; &nbsp; 所谓路由表，指的是路由器或者其他互联网网络设备上存储的表，该表中存有到达特定网络终端的路径，在某些情况下，还有一些与这些路径相关的度量。路由器的主要工作就是为经过路由器的每个数据包寻找一条最佳的传输路径，并将该数据有效地传送到目的站点。由此可见，选择最佳路径的策略即路由算法是路由器的关键所在。为了完成这项工作，在路由器中保存着各种传输路径的相关数据——路由表（Routing Table），供路由选择时使用，表中包含的信息决定了数据转发的策略。打个比方，路由表就像我们平时使用的地图一样，标识着各种路线，路由表中保存着子网的标志信息、网上路由器的个数和下一个路由器的名字等内容。路由表根据其建立的方法，可以分为动态路由表和静态路由表。</p> 
<p style="line-height:19.5px; margin:10px auto; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; widows:1"> &nbsp; &nbsp; linux 系统中，可以自定义从 1－252个路由表，其中，linux系统维护了4个路由表：</p> 
<ul style="list-style:none; margin-bottom:10px; margin-left:30px; padding-left:0px; font-size:12px; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; widows:1"> 
 <li style="list-style-type:disc">0#表： 系统保留表</li> 
 <li style="list-style-type:disc">253#表： defulte table 没特别指定的默认路由都放在改表</li> 
 <li style="list-style-type:disc">254#表： main table 没指明路由表的所有路由放在该表</li> 
 <li style="list-style-type:disc">255#表： locale table 保存本地接口地址，广播地址、NAT地址 由系统维护，用户不得更改</li> 
</ul> 
<p style="line-height:19.5px; margin:10px auto; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; widows:1"> 路由表的查看可有以下二种方法：</p> 
<ul style="list-style:none; margin-bottom:10px; margin-left:30px; padding-left:0px; font-size:12px; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; widows:1"> 
 <li style="list-style-type:disc">ip route list table table_number</li> 
 <li style="list-style-type:disc">ip route list table table_name</li> 
</ul> 
<p style="line-height:19.5px; margin:10px auto; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; widows:1"> 路由表序号和表名的对应关系在 /etc/iproute2/rt_tables 文件中，可手动编辑。路由表添加完毕即时生效，下面为实例：</p> 
<ul style="list-style:none; margin-bottom:10px; margin-left:30px; padding-left:0px; font-size:12px; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; widows:1"> 
 <li style="list-style-type:disc">ip route add default via 192.168.1.1 table 1 在一号表中添加默认路由为192.168.1.1</li> 
 <li style="list-style-type:disc">ip route add 192.168.0.0/24 via 192.168.1.2 table 1 在一号表中添加一条到192.168.0.0网段的路由为192.168.1.2</li> 
</ul> 
<p style="line-height:19.5px; margin:10px auto; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; widows:1"> 以下面的路由表为例：</p> 
<div class="cnblogs_code" style="border:1px solid rgb(204,204,204); padding:5px; overflow:auto; margin-top:5px; margin-bottom:5px; color:rgb(0,0,0); widows:1; background-color:rgb(245,245,245); font-family:‘Courier New‘!important; font-size:12px!important"> 
 <div class="cnblogs_code_toolbar" style="margin-top:5px"> 
  <span class="cnblogs_code_copy" style="padding-right:5px; line-height:1.5!important"><a target="_blank" href="javascript:void()" class="outlink" data="/link?url=http://www.mamicode.com/info-detail-1412618.html" title="复制代码" style="color:rgb(26,139,200); text-decoration:none; border:none!important" rel="nofollow"><img alt="技术分享" src="./linux之路由知识之ip route 命令中的疑惑 - 程序园_files/loading.png" style="max-width:900px; border-style:none!important" data-src="http://common.cnblogs.com/images/copycode.gif"></a></span> 
 </div> 
 <pre style="margin-top:0px; margin-bottom:0px; white-space:pre-wrap; word-wrap:break-word; font-family:‘Courier New‘!important" class="hljs nginx"><span style="line-height:1.5!important"><span class="hljs-title">Destination</span>    Netmask    Gateway          Interface    Metric
<span class="hljs-number">0.0.0.0</span>    <span class="hljs-number">0.0.0.0</span>    <span class="hljs-number">192.168.123.254</span>    <span class="hljs-number">192.168.123.88</span>    <span class="hljs-number">1</span> <span style="color:#00ff; line-height:1.5!important"><span class="hljs-comment">#缺省路由，目的地址不在本路由表中的数据包，经过本机的 192.168.123.88 接口发到下一个路由器 192.168.123.254</span></span>
<span class="hljs-number">127.0.0.0</span>    <span class="hljs-number">255.0.0.0</span>    <span class="hljs-number">127.0.0.1</span>    <span class="hljs-number">127.0.0.1</span>    <span class="hljs-number">1</span>        <span style="color:#00ff; line-height:1.5!important"><span class="hljs-comment">#发给本机的网络包</span></span>
<span class="hljs-number">192.168.123.0</span>    <span class="hljs-number">255.255.255.0</span>    <span class="hljs-number">192.168.123.68</span>    <span class="hljs-number">192.168.123.68</span>    <span class="hljs-number">1</span> <span style="color:#00ff; line-height:1.5!important"><span class="hljs-comment">#直连路由。目的地址为 192.168.123.0/24 的包发到本机 192.168.123.88 接口</span></span>
<span class="hljs-number">192.168.123.88</span>    <span class="hljs-number">255.255.255.255</span>    <span class="hljs-number">127.0.0.1</span>    <span class="hljs-number">127.0.0.1</span>    <span class="hljs-number">1</span>        <span style="color:#00ff; line-height:1.5!important"><span class="hljs-comment">#目的地址为 192.168.123.88的包是发给本机的包</span></span>
<span class="hljs-number">192.168.123.255</span>    <span class="hljs-number">255.255.255.255</span>    <span class="hljs-number">192.168.123.88</span>    <span class="hljs-number">192.168.123.88</span>    <span class="hljs-number">1</span> <span style="color:#00ff; line-height:1.5!important"><span class="hljs-comment">#广播包的网段是 192.168.123.0/24，经过 192.168.123.88 接口发出去</span></span>
<span class="hljs-number">224.0.0.0</span>    <span class="hljs-number">224.0.0.0</span>    <span class="hljs-number">192.168.123.88</span>    <span class="hljs-number">192.168.123.88</span>    <span class="hljs-number">1</span>             <span style="color:#00ff; line-height:1.5!important"><span class="hljs-comment">#多播包，经过 192.168.123.88 接口发出去</span></span>
<span class="hljs-number">255.255.255.255</span>    <span class="hljs-number">255.255.255.255</span>    <span class="hljs-number">192.168.123.68</span>    <span class="hljs-number">192.168.123.68</span>    <span class="hljs-number">1</span> <span style="color:#00ff; line-height:1.5!important"><span class="hljs-comment">#全网广播包</span></span>
Default Gateway: <span class="hljs-number">192.168.123.254</span></span></pre> 
 <div class="cnblogs_code_toolbar" style="margin-top:5px"> 
  <span class="cnblogs_code_copy" style="padding-right:5px; line-height:1.5!important"><a target="_blank" href="javascript:void()" class="outlink" data="/link?url=http://www.mamicode.com/info-detail-1412618.html" title="复制代码" style="color:rgb(26,139,200); text-decoration:none; border:none!important" rel="nofollow"><img alt="技术分享" src="./linux之路由知识之ip route 命令中的疑惑 - 程序园_files/loading.png" style="max-width:900px; border-style:none!important" data-src="http://common.cnblogs.com/images/copycode.gif"></a></span> 
 </div> 
</div> 
<p align="left" style="line-height:19.5px; margin:10px auto; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; widows:1"> 各字段说明：</p> 
<ul style="list-style:none; margin-bottom:10px; margin-left:30px; padding-left:0px; font-size:12px; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; widows:1"> 
 <li style="list-style-type:disc">destination：目的网段</li> 
 <li style="list-style-type:disc">mask：与网络目标地址相关联的网掩码（又称之为子网掩码）。子网掩码对于 IP 网络地址可以是一适当的子网掩码，对于主机路由是 255.255.255.255 ，对于默认路由是 0.0.0.0。如果忽略，则使用子网掩码 255.255.255.255。定义路由时由于目标地址和子网掩码之间的关系，目标地址不能比它对应的子网掩码更为详细。换句话说，如果子网掩码的一位是 0，则目标地址中的对应位就不能设置为 1。</li> 
 <li style="list-style-type:disc">interface：到达该目的地的本路由器的出口ip</li> 
 <li style="list-style-type:disc">gateway： 下一跳路由器入口的 ip，路由器通过 interface 和 gateway 定义一调到下一个路由器的链路。通常情况下，interface 和 gateway 是同一网段的metric 跳数，该条路由记录的质量，一般情况下，如果有多条到达相同目的地的路由记录，路由器会采用metric值小的那条路由</li> 
</ul> 
<p style="line-height:19.5px; margin:10px auto; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; widows:1"> 根据子网掩码，可以将路由分为三种类型：</p> 
<ul style="list-style:none; margin-bottom:10px; margin-left:30px; padding-left:0px; font-size:12px; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; widows:1"> 
 <li style="list-style-type:disc">主机路由：机路由是路由选择表中指向单个IP地址或主机名的路由记录。主机路由的Flags字段为H。</li> 
</ul> 
<div class="cnblogs_code" style="border:1px solid rgb(204,204,204); padding:5px; overflow:auto; margin-top:5px; margin-bottom:5px; color:rgb(0,0,0); widows:1; background-color:rgb(245,245,245); font-family:‘Courier New‘!important; font-size:12px!important"> 
 <pre style="margin-top:0px; margin-bottom:0px; white-space:pre-wrap; word-wrap:break-word; font-family:‘Courier New‘!important" class="hljs nginx"><span style="line-height:1.5!important"><span class="hljs-title">Destination</span>    Gateway       Genmask        Flags     Metric    Ref    Use    Iface
</span>-----------    -------     -------            -----     ------    ---    ---    -----
<span style="color:#80080; line-height:1.5!important"><span class="hljs-number">10.0</span></span><span class="hljs-number">.</span><span style="color:#80080; line-height:1.5!important"><span class="hljs-number">0.10</span></span>     <span style="color:#80080; line-height:1.5!important"><span class="hljs-number">192.168</span></span><span class="hljs-number">.</span><span style="color:#80080; line-height:1.5!important"><span class="hljs-number">1.1</span></span>    <span style="color:#00ff; line-height:1.5!important"><span class="hljs-number">255.255.255.255</span>   UH</span>       <span style="color:#80080; line-height:1.5!important"><span class="hljs-number">0</span></span>    <span style="color:#80080; line-height:1.5!important"><span class="hljs-number">0</span></span>      <span style="color:#80080; line-height:1.5!important"><span class="hljs-number">0</span></span>    eth0</pre> 
</div> 
<ul style="list-style:none; margin-bottom:10px; margin-left:30px; padding-left:0px; font-size:12px; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; widows:1"> 
 <li style="list-style-type:disc">网络路由：网络路由是代表主机可以到达的网络。网络路由的Flags字段为N。例如，在下面的示例中，本地主机将发送到网络192.19.12的数据包转发到IP地址为192.168.1.1的路由器。</li> 
</ul> 
<div class="cnblogs_code" style="border:1px solid rgb(204,204,204); padding:5px; overflow:auto; margin-top:5px; margin-bottom:5px; color:rgb(0,0,0); widows:1; background-color:rgb(245,245,245); font-family:‘Courier New‘!important; font-size:12px!important"> 
 <pre style="margin-top:0px; margin-bottom:0px; white-space:pre-wrap; word-wrap:break-word; font-family:‘Courier New‘!important" class="hljs nginx"><span style="line-height:1.5!important"><span class="hljs-title">Destination</span>    Gateway       Genmask      Flags    Metric    Ref     Use    Iface
</span>-----------    -------     -------         -----    -----   ---    ---    -----
<span style="color:#80080; line-height:1.5!important"><span class="hljs-number">192</span>.<span class="hljs-number">19</span></span>.<span style="color:#80080; line-height:1.5!important"><span class="hljs-number">12</span></span>     <span style="color:#80080; line-height:1.5!important"><span class="hljs-number">192.168</span></span><span class="hljs-number">.</span><span style="color:#80080; line-height:1.5!important"><span class="hljs-number">1.1</span></span>    <span style="color:#00ff; line-height:1.5!important"><span class="hljs-number">255.255.255.0</span>      UN</span>      <span style="color:#80080; line-height:1.5!important"><span class="hljs-number">0</span></span>       <span style="color:#80080; line-height:1.5!important"><span class="hljs-number">0</span></span>     <span style="color:#80080; line-height:1.5!important"><span class="hljs-number">0</span></span>    eth0</pre> 
</div> 
<ul style="list-style:none; margin-bottom:10px; margin-left:30px; padding-left:0px; font-size:12px; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; widows:1"> 
 <li style="list-style-type:disc">默认路由：当主机不能在路由表中查找到目标主机的IP地址或网络路由时，数据包就被发送到默认路由（默认网关）上。默认路由的Flags字段为G。</li> 
</ul> 
<div class="cnblogs_code" style="border:1px solid rgb(204,204,204); padding:5px; overflow:auto; margin-top:5px; margin-bottom:5px; color:rgb(0,0,0); widows:1; background-color:rgb(245,245,245); font-family:‘Courier New‘!important; font-size:12px!important"> 
 <pre style="margin-top:0px; margin-bottom:0px; white-space:pre-wrap; word-wrap:break-word; font-family:‘Courier New‘!important" class="hljs nginx"><span style="line-height:1.5!important"><span class="hljs-title">Destination</span>    Gateway       Genmask    Flags     Metric    Ref    Use    Iface
</span>-----------    -------     ------- -----      ------    ---    ---    -----
<span style="color:#00ff; line-height:1.5!important">default</span>       <span style="color:#80080; line-height:1.5!important"><span class="hljs-number">192.168</span></span><span class="hljs-number">.</span><span style="color:#80080; line-height:1.5!important"><span class="hljs-number">1.1</span></span>     <span style="color:#00ff; line-height:1.5!important"><span class="hljs-number">0.0.0.0</span></span>    UG       <span style="color:#80080; line-height:1.5!important"><span class="hljs-number">0</span></span>        <span style="color:#80080; line-height:1.5!important"><span class="hljs-number">0</span></span>     <span style="color:#80080; line-height:1.5!important"><span class="hljs-number">0</span></span>    eth0</pre> 
</div> 
<p style="line-height:19.5px; margin:10px auto; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; widows:1"> 设置和查看路由表都可以用 route 命令，设置内核路由表的命令格式是：route [add|del] [-net|-host] target [netmask Nm] [gw Gw] [[dev] If]</p> 
<p style="line-height:19.5px; margin:10px auto; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; widows:1"> 其中：</p> 
<ul style="list-style:none; margin-bottom:10px; margin-left:30px; padding-left:0px; font-size:12px; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; widows:1"> 
 <li style="list-style-type:disc">add : 添加一条路由规则，del : 删除一条路由规则，-net : 目的地址是一个网络，-host : 目的地址是一个主机，target : 目的网络或主机</li> 
 <li style="list-style-type:disc">netmask : 目的地址的网络掩码，gw : 路由数据包通过的网关，dev : 为路由指定的网络接口</li> 
</ul> 
<p style="line-height:19.5px; margin:10px auto; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; widows:1"> 比如：</p> 
<ul style="list-style:none; margin-bottom:10px; margin-left:30px; padding-left:0px; font-size:12px; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; widows:1"> 
 <li style="list-style-type:disc">route add 0.0.0.0 mask 0.0.0.0 192.168.12.1</li> 
 <li style="list-style-type:disc">route add 10.41.0.0 mask 255.255.0.0 10.27.0.1 metric 7</li> 
</ul> 
<p style="line-height:19.5px; margin:10px auto; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; widows:1"> （数据来源：<a target="_blank" href="javascript:void()" class="outlink" data="/link?url=http://baike.baidu.com/view/149989.htm" style="color:rgb(26,139,200); text-decoration:none" rel="nofollow">（1）</a>，<a target="_blank" href="javascript:void()" class="outlink" data="/link?url=http://wenku.baidu.com/view/beb6a260783e0912a2162aa6.html?re=view" style="color:rgb(26,139,200); text-decoration:none" rel="nofollow">（2）</a>，<a target="_blank" href="javascript:void()" class="outlink" data="/link?url=http://blog.csdn.net/shiniji_hh1126/article/details/6000810" style="color:rgb(26,139,200); text-decoration:none" rel="nofollow">（3）</a>）</p> 
<p style="line-height:19.5px; margin:10px auto; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; widows:1"> 关于 src 属性：</p> 
<p style="line-height:19.5px; margin:10px auto 10px 30px; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; widows:1"> 当一个主机有多个网卡配置了多个 IP 的时候，对于它产生的网络包，可以在路由选择时设置源 IP 地址。比如：</p> 
<p style="line-height:19.5px; margin:10px auto 10px 30px; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; widows:1"> <code>ip route add 78.22.45.0/24 via 10.45.22.1 src 10.45.22.12 （发到 78.22.45.0/24 网段的网络包，下一跳的路由器 IP 是 10.45.22.1，包的源IP地址设为10.45.22.12）。</code></p> 
<p style="line-height:19.5px; margin:10px auto 10px 30px; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; widows:1"> 要注意的是，src 选项只会影响该 host 上产生的网络包。如果是一个被路由的外来包，明显地它已经带有了一个源 IP 地址，这时候，src 参数的配置对它没有任何影响，除非你使用 NAT 来改变它。对 Neutron 来说，qrouter 和 qif namespace 中的路由表中的 src 都没有实际意义，因为它们只会处理外来的网络包。</p> 
<h4 style="padding:3px; font-size:14px; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; widows:1; background-color:rgb(164,211,238)"> 1.1.3 路由分类之静态路由</h4> 
<p style="line-height:19.5px; margin:10px auto; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; widows:1"> &nbsp; 静态路由是指由用户或网络管理员手工配置的路由信息。当网络的拓扑结构或链路的状态发生变化时，网络管理员需要手工去修改路由表中相关的静态路由信息。静态路由信息在缺省情况下是私有的，不会传递给其他的路由器。当然，网管员也可以通过对路由器进行设置使之成为共享的。静态路由一般适用于比较简单的网络环境，在这样的环境中，网络管理员易于清楚地了解网络的拓扑结构，便于设置正确的路由信息。</p> 
<p><br> </p> 
<p><img src="./linux之路由知识之ip route 命令中的疑惑 - 程序园_files/loading.png" alt="" data-src="http://img.blog.csdn.net/20161227220257656"></p> 
<p><span id="Label3"></span></p> 
<p style="line-height:19.5px; margin:10px auto; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; widows:1"> 以上面的拓扑结构为例，在没有配置路由的情况下，计算机1 和 2 无法互相通信，因为 1 发给 2 的包在到达路由器 A 后，它不知道怎么转发它。B 也同样。管理员可以配置如下的静态路由来实现 1 和 2 之间的通信：</p> 
<p style="line-height:19.5px; margin:10px auto; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; widows:1"> 计算机配置默认网关：</p> 
<ul style="list-style:none; margin-bottom:10px; margin-left:30px; padding-left:0px; font-size:12px; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; widows:1"> 
 <li style="list-style-type:disc">计算机1 上：route add default gw 192.168.1.1</li> 
 <li style="list-style-type:disc">计算机2 上：route add default gw 192.168.3.1</li> 
</ul> 
<p style="line-height:19.5px; margin:10px auto; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; widows:1"> 路由器配置：</p> 
<ul style="list-style:none; margin-bottom:10px; margin-left:30px; padding-left:0px; font-size:12px; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; widows:1"> 
 <li style="list-style-type:disc">R1 上：ip route 192.168.3.0 255.255.255.0 f0/1&nbsp;（意思为：目标网络地址为 192.168.3.0/24 的数据包，经过 f0/1 端口发出）</li> 
 <li style="list-style-type:disc">R2 上：ip route 192.168.1.0 255.255.255.0 f0/1 （意思为：目标网络地址为 192.168.1.0/24 的数据包，经过 f0/1 端口发出）</li> 
</ul> 
<p style="line-height:19.5px; margin:10px auto; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; widows:1"> 或者</p> 
<ul style="list-style:none; margin-bottom:10px; margin-left:30px; padding-left:0px; font-size:12px; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; widows:1"> 
 <li style="list-style-type:disc">R1 上：ip route 192.168.3.0 255.255.255.0 192.168.2.2&nbsp;（意思为：要去 192.168.3.0/24 的数据包，下一路由器 IP 地址为 192.168.2.2）</li> 
 <li style="list-style-type:disc">R2 上：ip route 192.168.1.0 255.255.255.0 192.168.2.1</li> 
</ul> 
<p style="line-height:19.5px; margin:10px auto; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; widows:1"> （来源：<a target="_blank" href="javascript:void()" class="outlink" data="/link?url=http://baike.baidu.com/view/911.htm" style="color:rgb(26,139,200); text-decoration:none" rel="nofollow">http://baike.baidu.com/view/911.htm</a>）</p> 
<h4 style="padding:3px; font-size:14px; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; widows:1; background-color:rgb(164,211,238)"> 1.1.4 路由分类之动态路由</h4> 
<p style="line-height:19.5px; margin:10px auto; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; widows:1"> &nbsp; &nbsp; 动态路由是指路由器能够自动地建立自己的路由表，并且能够根据实际情况的变化适时地进行调整。它是与静态路由相对的一个概念，指路由器能够根据路由器之间的交换的特定路由信息自动地建立自己的路由表，并且能够根据链路和节点的变化适时地进行自动调整。当网络中节点或节点间的链路发生故障，或存在其它可用路由时，动态路由可以自行选择最佳的可用路由并继续转发报文。</p> 
<p style="line-height:19.5px; margin:10px auto; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; widows:1"> 常见的动态路由协议有以下几个：路由信息协议（RIP）、OSPF(Open Shortest Path First开放式最短路径优先）、IS-IS（Intermediate System-to-Intermediate System，中间系统到中间系统）、边界网关协议（BGP）是运行于 TCP 上的一种自治系统的路由协议。</p> 
<p style="line-height:19.5px; margin:10px auto; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; widows:1"> （来源：<a target="_blank" href="javascript:void()" class="outlink" data="/link?url=http://baike.baidu.com/view/897.htm" style="color:rgb(26,139,200); text-decoration:none" rel="nofollow">http://baike.baidu.com/view/897.htm</a>）&nbsp; &nbsp;&nbsp;</p> 
<h4 style="padding:3px; font-size:14px; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; widows:1; background-color:rgb(164,211,238)"> 1.1.5 ip rule，ip route，iptables 三者之间的关系</h4> 
<p style="line-height:19.5px; margin:10px auto; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; widows:1"> 以一例子来说明：公司内网要求192.168.0.100 以内的使用 10.0.0.1 网关上网 （电信），其他IP使用 20.0.0.1 （网通）上网。</p> 
<ol style="padding-left:40px; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; line-height:19.5px; widows:1"> 
 <li style="list-style-type:decimal">首先要在网关服务器上添加一个默认路由，当然这个指向是绝大多数的IP的出口网关：ip route add default gw 20.0.0.1</li> 
 <li style="list-style-type:decimal"><span style="line-height:1.5">之后通过 ip route 添加一个路由表：</span><span style="line-height:1.5">ip route add table 3 via 10.0.0.1 dev ethX (ethx 是 10.0.0.1 所在的网卡, 3 是路由表的编号)</span></li> 
 <li style="list-style-type:decimal"><span style="line-height:1.5">之后添加 ip rule 规则：</span><span style="line-height:1.5">ip rule add fwmark 3 table 3 （fwmark 3 是标记，table 3 是路由表3 上边。 意思就是凡事标记了 3 的数据使用 table3 路由表）</span></li> 
 <li style="list-style-type:decimal"><span style="line-height:1.5">之后使用 iptables 给相应的数据打上标记：</span><span style="line-height:1.5">iptables -A PREROUTING -t mangle -i eth0 -s 192.168.0.1 - 192.168.0.100 -j MARK --set-mark 3</span></li> 
</ol> 
<p style="line-height:19.5px; margin:10px auto; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; widows:1"> 因为 mangle 的处理是优先于 nat 和 fiter 表的，所以在数据包到达之后先打上标记，之后再通过 ip rule 规则，对应的数据包使用相应的路由表进行路由，最后读取路由表信息，将数据包送出网关。</p> 
<p style="line-height:19.5px; margin:10px auto; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; widows:1"> （来源：<a target="_blank" href="javascript:void()" class="outlink" data="/link?url=http://blog.sina.com.cn/s/blog_659b48590100n2q6.html" style="color:rgb(26,139,200); text-decoration:none" rel="nofollow">使用 ip route ， ip rule ， iptables 配置策略路由</a>。<a target="_blank" href="javascript:void()" class="outlink" data="/link?url=http://wenku.baidu.com/link?url=Zny1LXKB8HfXzS_SC48EXJRiIg1y8fRI6Zu7WMEOAvsuPo7ktKIhW4cV0D6pM09DHvwthU5jtX2a1TD3pu0jLqHRcBn2W9ve7WSz4k8TMvC" style="color:rgb(26,139,200); text-decoration:none" rel="nofollow">这里</a>&nbsp;有一个更详细的例子）</p> 
<img src="./linux之路由知识之ip route 命令中的疑惑 - 程序园_files/loading.png" alt="" data-src="http://img.blog.csdn.net/20161227220347272"> 
<p><span id="Label3"></span></p> 
<p style="line-height:19.5px; margin:10px auto; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; widows:1"> 这里可以看出 Netfilter 处理网络包的先后顺序：接收网络包，先 DNAT，然后查路由策略，查路由策略指定的路由表做路由，然后 SNAT，再发出网络包。</p> 
<h4 style="padding:3px; font-size:14px; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; widows:1; background-color:rgb(164,211,238)"> 1.1.6 Traceroute 工具</h4> 
<p style="line-height:19.5px; margin:10px auto; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; widows:1"> <span style="line-height:1.5">&nbsp; &nbsp; 我们在 linux 机器上，使用 traceroute 来获知从你的计算机到互联网另一端的主机是走的什么路径。当然每次数据包由某一同样的出发点（source）到达某一同样的目的地(destination)走的路径可能会不一样，但基本上来说大部分时候所走的路由是相同的。在 MS Windows 中该工具为 tracert。&nbsp;在大多数情况下，我们会在linux主机系统下，直接执行命令行：traceroute hostname；而在Windows系统下是执行tracert的命令： tracert hostname。</span></p> 
<ul style="list-style:none; margin-bottom:10px; margin-left:30px; padding-left:0px; font-size:12px; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; widows:1"> 
 <li style="list-style-type:disc">命令格式：traceroute [参数] [主机]</li> 
 <li style="list-style-type:disc">命令功能：traceroute 指令让你追踪网络数据包的路由途径，预设数据包大小是 40Bytes，用户可另行设置。</li> 
 <li style="list-style-type:disc">具体参数格式：traceroute [-dFlnrvx][-f&lt;存活数值&gt;][-g&lt;网关&gt;...][-i&lt;网络界面&gt;][-m&lt;存活数值&gt;][-p&lt;通信端口&gt;][-s&lt;来源地址&gt;][-t&lt;服务类型&gt;][-w&lt;超时秒数&gt;][主机名称或IP地址][数据包大小]</li> 
 <li style="list-style-type:disc">命令参数： 
  <ul style="list-style:none; margin-bottom:10px; margin-left:30px; padding-left:0px"> 
   <li style="list-style-type:disc">-d 使用Socket层级的排错功能，-f 设置第一个检测数据包的存活数值TTL的大小，-F 设置勿离断位，-g 设置来源路由网关，最多可设置8个，-i 使用指定的网络界面送出数据包，-I 使用ICMP回应取代UDP资料信息，-m 设置检测数据包的最大存活数值TTL的大小，-n 直接使用IP地址而非主机名称。</li> 
   <li style="list-style-type:disc">-p 设置UDP传输协议的通信端口，-r 忽略普通的Routing Table，直接将数据包送到远端主机上，-s 设置本地主机送出数据包的IP地址，-t 设置检测数据包的TOS数值。</li> 
   <li style="list-style-type:disc">-v 详细显示指令的执行过程，-w 设置等待远端主机回报的时间，-x 开启或关闭数据包的正确性检验。</li> 
  </ul> </li> 
</ul> 
<p style="line-height:19.5px; margin:10px auto; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; widows:1"> <span style="line-height:1.5">（1）例子</span></p> 
<div class="cnblogs_code" style="border:1px solid rgb(204,204,204); padding:5px; overflow:auto; margin-top:5px; margin-bottom:5px; color:rgb(0,0,0); widows:1; background-color:rgb(245,245,245); font-family:‘Courier New‘!important; font-size:12px!important"> 
 <div class="cnblogs_code_toolbar" style="margin-top:5px"> 
  <span class="cnblogs_code_copy" style="padding-right:5px; line-height:1.5!important"><a target="_blank" href="javascript:void()" class="outlink" data="/link?url=http://www.mamicode.com/info-detail-1412618.html" title="复制代码" style="color:rgb(26,139,200); text-decoration:none; border:none!important" rel="nofollow"><img alt="技术分享" src="./linux之路由知识之ip route 命令中的疑惑 - 程序园_files/loading.png" style="max-width:900px; border-style:none!important" data-src="http://common.cnblogs.com/images/copycode.gif"></a></span> 
 </div> 
 <pre style="margin-top:0px; margin-bottom:0px; white-space:pre-wrap; word-wrap:break-word; font-family:‘Courier New‘!important" class="hljs ruby">[root<span class="hljs-variable">@localhost</span> ~<span style="line-height:1.5!important">]<span class="hljs-comment"># traceroute www.baidu.com</span>
traceroute to www.baidu.com (</span><span style="color:#80080; line-height:1.5!important"><span class="hljs-number">61.135</span></span>.<span style="color:#80080; line-height:1.5!important"><span class="hljs-number">169.125</span></span>), <span style="color:#80080; line-height:1.5!important"><span class="hljs-number">30</span></span> hops max, <span style="color:#80080; line-height:1.5!important"><span class="hljs-number">40</span></span> <span style="color:#00ff; line-height:1.5!important">byte</span><span style="line-height:1.5!important"> packets
</span><span style="color:#80080; line-height:1.5!important"><span class="hljs-number">1</span></span> <span style="color:#80080; line-height:1.5!important"><span class="hljs-number">192.168</span></span>.<span style="color:#80080; line-height:1.5!important"><span class="hljs-number">74.2</span></span> (<span style="color:#80080; line-height:1.5!important"><span class="hljs-number">192.168</span></span>.<span style="color:#80080; line-height:1.5!important"><span class="hljs-number">74.2</span></span>) <span style="color:#80080; line-height:1.5!important"><span class="hljs-number">2.606</span></span> ms <span style="color:#80080; line-height:1.5!important"><span class="hljs-number">2.771</span></span> ms <span style="color:#80080; line-height:1.5!important"><span class="hljs-number">2.950</span></span><span style="line-height:1.5!important"> ms
</span><span style="color:#80080; line-height:1.5!important"><span class="hljs-number">2</span></span> <span style="color:#80080; line-height:1.5!important"><span class="hljs-number">211.151</span></span>.<span style="color:#80080; line-height:1.5!important"><span class="hljs-number">56.57</span></span> (<span style="color:#80080; line-height:1.5!important"><span class="hljs-number">211.151</span></span>.<span style="color:#80080; line-height:1.5!important"><span class="hljs-number">56.57</span></span>) <span style="color:#80080; line-height:1.5!important"><span class="hljs-number">0</span>.<span class="hljs-number">596</span></span> ms <span style="color:#80080; line-height:1.5!important"><span class="hljs-number">0</span>.<span class="hljs-number">598</span></span> ms <span style="color:#80080; line-height:1.5!important"><span class="hljs-number">0</span>.<span class="hljs-number">591</span></span><span style="line-height:1.5!important"> ms
</span><span style="color:#80080; line-height:1.5!important"><span class="hljs-number">3</span></span> <span style="color:#80080; line-height:1.5!important"><span class="hljs-number">211.151</span></span>.<span style="color:#80080; line-height:1.5!important"><span class="hljs-number">227.206</span></span> (<span style="color:#80080; line-height:1.5!important"><span class="hljs-number">211.151</span></span>.<span style="color:#80080; line-height:1.5!important"><span class="hljs-number">227.206</span></span>) <span style="color:#80080; line-height:1.5!important"><span class="hljs-number">0</span>.<span class="hljs-number">546</span></span> ms <span style="color:#80080; line-height:1.5!important"><span class="hljs-number">0</span>.<span class="hljs-number">544</span></span> ms <span style="color:#80080; line-height:1.5!important"><span class="hljs-number">0</span>.<span class="hljs-number">538</span></span><span style="line-height:1.5!important"> ms
</span><span style="color:#80080; line-height:1.5!important"><span class="hljs-number">4</span></span> <span style="color:#80080; line-height:1.5!important"><span class="hljs-number">210.77</span></span>.<span style="color:#80080; line-height:1.5!important"><span class="hljs-number">139.145</span></span> (<span style="color:#80080; line-height:1.5!important"><span class="hljs-number">210.77</span></span>.<span style="color:#80080; line-height:1.5!important"><span class="hljs-number">139.145</span></span>) <span style="color:#80080; line-height:1.5!important"><span class="hljs-number">0</span>.<span class="hljs-number">710</span></span> ms <span style="color:#80080; line-height:1.5!important"><span class="hljs-number">0</span>.<span class="hljs-number">748</span></span> ms <span style="color:#80080; line-height:1.5!important"><span class="hljs-number">0</span>.<span class="hljs-number">801</span></span><span style="line-height:1.5!important"> ms
</span><span style="color:#80080; line-height:1.5!important"><span class="hljs-number">5</span></span> <span style="color:#80080; line-height:1.5!important"><span class="hljs-number">202.106</span></span>.<span style="color:#80080; line-height:1.5!important"><span class="hljs-number">42.101</span></span> (<span style="color:#80080; line-height:1.5!important"><span class="hljs-number">202.106</span></span>.<span style="color:#80080; line-height:1.5!important"><span class="hljs-number">42.101</span></span>) <span style="color:#80080; line-height:1.5!important"><span class="hljs-number">6.759</span></span> ms <span style="color:#80080; line-height:1.5!important"><span class="hljs-number">6.945</span></span> ms <span style="color:#80080; line-height:1.5!important"><span class="hljs-number">7.107</span></span><span style="line-height:1.5!important"> ms
</span><span style="color:#80080; line-height:1.5!important"><span class="hljs-number">6</span></span> <span style="color:#80080; line-height:1.5!important"><span class="hljs-number">61.148</span></span>.<span style="color:#80080; line-height:1.5!important"><span class="hljs-number">154.97</span></span> (<span style="color:#80080; line-height:1.5!important"><span class="hljs-number">61.148</span></span>.<span style="color:#80080; line-height:1.5!important"><span class="hljs-number">154.97</span></span>) <span style="color:#80080; line-height:1.5!important"><span class="hljs-number">718.908</span></span> ms * bt-<span style="color:#80080; line-height:1.5!important"><span class="hljs-number">228</span></span>-<span style="color:#80080; line-height:1.5!important"><span class="hljs-number">025</span></span>.bta.net.cn (<span style="color:#80080; line-height:1.5!important"><span class="hljs-number">202.106</span></span>.<span style="color:#80080; line-height:1.5!important"><span class="hljs-number">228.25</span></span>) <span style="color:#80080; line-height:1.5!important"><span class="hljs-number">5.177</span></span><span style="line-height:1.5!important"> ms
</span><span style="color:#80080; line-height:1.5!important"><span class="hljs-number">7</span></span> <span style="color:#80080; line-height:1.5!important"><span class="hljs-number">124.65</span></span>.<span style="color:#80080; line-height:1.5!important"><span class="hljs-number">58.213</span></span> (<span style="color:#80080; line-height:1.5!important"><span class="hljs-number">124.65</span></span>.<span style="color:#80080; line-height:1.5!important"><span class="hljs-number">58.213</span></span>) <span style="color:#80080; line-height:1.5!important"><span class="hljs-number">4.343</span></span> ms <span style="color:#80080; line-height:1.5!important"><span class="hljs-number">4.336</span></span> ms <span style="color:#80080; line-height:1.5!important"><span class="hljs-number">4.367</span></span><span style="line-height:1.5!important"> ms
</span><span style="color:#80080; line-height:1.5!important"><span class="hljs-number">8</span></span> <span style="color:#80080; line-height:1.5!important"><span class="hljs-number">202.106</span></span>.<span style="color:#80080; line-height:1.5!important"><span class="hljs-number">35.190</span></span> (<span style="color:#80080; line-height:1.5!important"><span class="hljs-number">202.106</span></span>.<span style="color:#80080; line-height:1.5!important"><span class="hljs-number">35.190</span></span>) <span style="color:#80080; line-height:1.5!important"><span class="hljs-number">1.795</span></span> ms <span style="color:#80080; line-height:1.5!important"><span class="hljs-number">61.148</span></span>.<span style="color:#80080; line-height:1.5!important"><span class="hljs-number">156.138</span></span> (<span style="color:#80080; line-height:1.5!important"><span class="hljs-number">61.148</span></span>.<span style="color:#80080; line-height:1.5!important"><span class="hljs-number">156.138</span></span>) <span style="color:#80080; line-height:1.5!important"><span class="hljs-number">1.899</span></span> ms <span style="color:#80080; line-height:1.5!important"><span class="hljs-number">1.951</span></span><span style="line-height:1.5!important"> ms
</span><span style="color:#80080; line-height:1.5!important"><span class="hljs-number">9</span></span> * * *
<span style="color:#80080; line-height:1.5!important"><span class="hljs-number">30</span></span> * * *</pre> 
 <div class="cnblogs_code_toolbar" style="margin-top:5px"> 
  <span class="cnblogs_code_copy" style="padding-right:5px; line-height:1.5!important"><a target="_blank" href="javascript:void()" class="outlink" data="/link?url=http://www.mamicode.com/info-detail-1412618.html" title="复制代码" style="color:rgb(26,139,200); text-decoration:none; border:none!important" rel="nofollow"><img alt="技术分享" src="./linux之路由知识之ip route 命令中的疑惑 - 程序园_files/loading.png" style="max-width:900px; border-style:none!important" data-src="http://common.cnblogs.com/images/copycode.gif"></a></span> 
 </div> 
</div> 
<p style="line-height:19.5px; margin:10px auto; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; widows:1"> 说明：</p> 
<ul style="list-style:none; margin-bottom:10px; margin-left:30px; padding-left:0px; font-size:12px; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; widows:1"> 
 <li style="list-style-type:disc">记录按序列号从1开始，每个纪录就是一跳 ，每跳表示一个网关，我们看到每行有三个时间，单位是 ms，其实就是 -q 的默认参数。</li> 
 <li style="list-style-type:disc">探测数据包向每个网关发送三个数据包后，网关响应后返回的时间；如果您用 traceroute -q 4 www.58.com ，表示向每个网关发送4个数据包。</li> 
 <li style="list-style-type:disc">有时我们 traceroute 一台主机时，会看到有一些行是以星号表示的。出现这样的情况，可能是防火墙封掉了ICMP 的返回信息，所以我们得不到什么相关的数据包返回数据。</li> 
 <li style="list-style-type:disc">有时我们在某一网关处延时比较长，有可能是某台网关比较阻塞，也可能是物理设备本身的原因。当然如果某台 DNS 出现问题时，不能解析主机名、域名时，也会 有延时长的现象；您可以加-n 参数来避免DNS解析，以IP格式输出数据。</li> 
 <li style="list-style-type:disc">如果在局域网中的不同网段之间，我们可以通过 traceroute 来排查问题所在，是主机的问题还是网关的问题。如果我们通过远程来访问某台服务器遇到问题时，我们用到traceroute 追踪数据包所经过的网关，提交IDC服务商，也有助于解决问题；但目前看来在国内解决这样的问题是比较困难的，就是我们发现问题所在，IDC服务商也不可能帮助我们解决。</li> 
</ul> 
<p style="line-height:19.5px; margin:10px auto; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; widows:1"> （2）原理</p> 
<p style="line-height:19.5px; margin:10px auto; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; widows:1"> &nbsp;Traceroute 程序的设计是利用 ICMP 及 IP&nbsp;header 的 TTL（Time&nbsp;To&nbsp;Live）栏位（field）。</p> 
<ol style="padding-left:40px; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; line-height:19.5px; widows:1"> 
 <li style="list-style-type:decimal">首先，traceroute 送出一个 TTL 是 1 的 IP&nbsp;datagram（其实，每次送出的为3个40字节的包，包括源地址，目的地址和包发出的时间标签）到目的地，当路径上的第一个路由器（router）收到这个datagram 时，它将TTL减1。此时，TTL变为0了，所以该路由器会将此 datagram 丢掉，并送回一个「ICMP&nbsp;time&nbsp;exceeded」消息（包括发IP包的源地址，IP包的所有内容及路由器的IP地址），traceroute&nbsp;收到这个消息后，便知道这个路由器存在于这个路径上。</li> 
 <li style="list-style-type:decimal">接着，traceroute&nbsp;再送出另一个TTL 是 2 &nbsp;的datagram，发现第2&nbsp;个路由器......&nbsp;</li> 
 <li style="list-style-type:decimal">然后，traceroute &nbsp;每次将送出的 datagram 的 TTL &nbsp;加1来发现另一个路由器，这个重复的动作一直持续到某个datagram&nbsp;抵达目的地。当datagram到达目的地后，该主机并不会送回ICMP&nbsp;time&nbsp;exceeded消息，因为它已是目的地了，那么traceroute如何得知目的地到达了呢？</li> 
</ol> 
<p style="line-height:19.5px; margin:10px auto; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; widows:1"> &nbsp; &nbsp; Traceroute 在送出 UDP&nbsp;datagrams 到目的地时，它所选择送达的 port&nbsp;number&nbsp;是一个一般应用程序都不会用的号码（30000&nbsp;以上），所以当此 UDP&nbsp;datagram&nbsp;到达目的地后该主机会送回一个「ICMP&nbsp;port&nbsp;unreachable」的消息，而当traceroute&nbsp;收到这个消息时，便知道目的地已经到达了。所以traceroute&nbsp;在Server端也是没有所谓的Daemon&nbsp;程式。Traceroute提取发&nbsp;ICMP&nbsp;TTL 到期消息设备的 IP 地址并作域名解析。每次&nbsp;，Traceroute 都打印出一系列数据,包括所经过的路由设备的域名及&nbsp;IP地址,三个包每次来回所花时间。</p> 
<p style="line-height:19.5px; margin:10px auto; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; widows:1"> （以上资料来自互联网）</p> 
<p style="line-height:19.5px; margin:10px auto; color:rgb(75,75,75); font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:13px; widows:1"> 参考网址：<a target="_blank" href="javascript:void()" class="outlink" data="/link?url=http://www.cnblogs.com/sammyliu/p/4713562.html" rel="nofollow">http://www.cnblogs.com/sammyliu/p/4713562.html</a> </p>
        </div>
            <div class="margin-top-20"></div>
        	<div><script async="" src="./linux之路由知识之ip route 命令中的疑惑 - 程序园_files/f(3).txt"></script>
<!-- 正文底部广告 -->
<ins class="adsbygoogle" style="display: block; height: 90px;" data-ad-client="ca-pub-6208739752673518" data-ad-slot="9020893119" data-ad-format="auto" data-adsbygoogle-status="done"><ins id="aswift_1_expand" style="display:inline-table;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:854px;background-color:transparent;"><ins id="aswift_1_anchor" style="display:block;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:854px;background-color:transparent;"><iframe width="854" height="90" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_1" name="aswift_1" style="left:0;position:absolute;top:0;width:854px;height:90px;" src="./linux之路由知识之ip route 命令中的疑惑 - 程序园_files/saved_resource(1).html"></iframe></ins></ins></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div>
    </div>
		<div>
	    	<div class="relative">相关文章</div>
	    	<ul class="relative_list">
		                <li>
		                    1. <a href="http://www.voidcn.com/article/p-swrabrxh-bee.html" target="_blank" title="linux之路由知识之ip route 命令中的疑惑"> linux之路由知识之ip route 命令中的疑惑 </a>
		                </li>
		                <li>
		                    2. <a href="http://www.voidcn.com/article/p-pbcnuzzj-kd.html" target="_blank" title="linux之ip route命令"> linux之ip route命令 </a>
		                </li>
		                <li>
		                    3. <a href="http://www.voidcn.com/article/p-egsyekrf-bhu.html" target="_blank" title="linux 路由　route命令"> linux 路由　route命令 </a>
		                </li>
		                <li>
		                    4. <a href="http://www.voidcn.com/article/p-chwduwlg-yx.html" target="_blank" title="Linux命令之route - 显示和操作IP路由表"> Linux命令之route - 显示和操作IP路由表 </a>
		                </li>
		                <li>
		                    5. <a href="http://www.voidcn.com/article/p-avxzyyam-bdo.html" target="_blank" title="路由器命令知识"> 路由器命令知识 </a>
		                </li>
		                <li>
		                    6. <a href="http://www.voidcn.com/article/p-deqecykb-ben.html" target="_blank" title="linux命令之route命令"> linux命令之route命令 </a>
		                </li>
		                <li>
		                    7. <a href="http://www.voidcn.com/article/p-txjmvwth-pz.html" target="_blank" title="Linux命令之route"> Linux命令之route </a>
		                </li>
		                <li>
		                    8. <a href="http://www.voidcn.com/article/p-adiwryro-bgz.html" target="_blank" title="linux之route命令"> linux之route命令 </a>
		                </li>
		                <li>
		                    9. <a href="http://www.voidcn.com/article/p-uaksnrgr-bhv.html" target="_blank" title="linux 命令之 route"> linux 命令之 route </a>
		                </li>
		                <li>
		                    10. <a href="http://www.voidcn.com/article/p-daszmuce-uz.html" target="_blank" title="linux 路由表的一点疑惑"> linux 路由表的一点疑惑 </a>
		                </li>
	            <li><a href="http://www.voidcn.com/relative/p-hwdtjdxx-kd.html" target="_blank" title="linux之路由知识之ip route 命令中的疑惑 的相关文章"> 更多相关文章...</a></li>
	        </ul>

            <div class="margin-top-20"></div>
			<div>
                <div><script async="" src="./linux之路由知识之ip route 命令中的疑惑 - 程序园_files/f(3).txt"></script>
<ins class="adsbygoogle" style="display: block; text-align: center; height: 200px;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6208739752673518" data-ad-slot="3534271784" data-adsbygoogle-status="done"><ins id="aswift_2_expand" style="display:inline-table;border:none;height:200px;margin:0;padding:0;position:relative;visibility:visible;width:864px;background-color:transparent;"><ins id="aswift_2_anchor" style="display:block;border:none;height:200px;margin:0;padding:0;position:relative;visibility:visible;width:864px;background-color:transparent;"><iframe width="864" height="200" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_2" name="aswift_2" style="left:0;position:absolute;top:0;width:864px;height:200px;" src="./linux之路由知识之ip route 命令中的疑惑 - 程序园_files/saved_resource(2).html"></iframe></ins></ins></ins>
<script>
    (adsbygoogle = window.adsbygoogle || []).push({});
</script></div>
			</div>
            <div class="margin-top-20"></div>

	        <div class="relative">相关标签/搜索</div>
	        <ul>
	        			<a target="_blank" href="http://www.voidcn.com/tag/%E8%B7%AF%E7%94%B1%E7%9F%A5%E8%AF%86" title="路由知识"> <span class="new-label">路由知识</span></a>
	        			<a target="_blank" href="http://www.voidcn.com/tag/%C2%A0linux%E5%91%BD%E4%BB%A4%E4%B9%8Bsync" title=" linux命令之sync"> <span class="new-label">&nbsp;linux命令之sync</span></a>
	        			<a target="_blank" href="http://www.voidcn.com/tag/linux+%E5%91%BD%E4%BB%A4%E4%B9%8B+kill" title="linux 命令之 kill"> <span class="new-label">linux 命令之 kill</span></a>
	        			<a target="_blank" href="http://www.voidcn.com/tag/Linux%E4%B9%8Bpwd%E5%91%BD%E4%BB%A4" title="Linux之pwd命令"> <span class="new-label">Linux之pwd命令</span></a>
	        			<a target="_blank" href="http://www.voidcn.com/tag/linux%E4%B9%8Bdf%E5%91%BD%E4%BB%A4" title="linux之df命令"> <span class="new-label">linux之df命令</span></a>
	        			<a target="_blank" href="http://www.voidcn.com/tag/Linux%E4%B9%8Bdu%E5%91%BD%E4%BB%A4" title="Linux之du命令"> <span class="new-label">Linux之du命令</span></a>
	        			<a target="_blank" href="http://www.voidcn.com/tag/linux%E4%B9%8Bchattr%E5%91%BD%E4%BB%A4" title="linux之chattr命令"> <span class="new-label">linux之chattr命令</span></a>
	        			<a target="_blank" href="http://www.voidcn.com/tag/Linux%E4%B9%8Bcd%E5%91%BD%E4%BB%A4" title="Linux之cd命令"> <span class="new-label">Linux之cd命令</span></a>
	        			<a target="_blank" href="http://www.voidcn.com/tag/linux%E5%91%BD%E4%BB%A4%E4%B9%8Btcpdump" title="linux命令之tcpdump"> <span class="new-label">linux命令之tcpdump</span></a>
	        			<a target="_blank" href="http://www.voidcn.com/tag/linux%E4%B9%8Bnm%E5%91%BD%E4%BB%A4" title="linux之nm命令"> <span class="new-label">linux之nm命令</span></a>
	        			<a target="_blank" href="http://www.voidcn.com/cata/6081178" title="Linux路由命令"> <span class="new-label">Linux路由命令</span></a>
	        			<a target="_blank" href="http://www.voidcn.com/cata/3047805" title="linux命令之ls"> <span class="new-label">linux命令之ls</span></a>
	        			<a target="_blank" href="http://www.voidcn.com/cata/1307697" title="Linux之小命令"> <span class="new-label">Linux之小命令</span></a>
	        			<a target="_blank" href="http://www.voidcn.com/cata/6800589d3" title="路由知识"> <span class="new-label">路由知识</span></a>
	        			<a target="_blank" href="http://www.voidcn.com/cata/200989d10" title="路由知识"> <span class="new-label">路由知识</span></a>
	        			<a target="_blank" href="http://www.voidcn.com/cata/201541" title="Linux 自由之路"> <span class="new-label">Linux 自由之路</span></a>
	        			<a target="_blank" href="http://www.voidcn.com/cata/1509661d1" title="cisco route 路由"> <span class="new-label">cisco route 路由</span></a>
	        			<a target="_blank" href="http://www.voidcn.com/cata/2230396d7" title="route路由"> <span class="new-label">route路由</span></a>
	        			<a target="_blank" href="http://www.voidcn.com/cata/11927277d3" title="linux的命令"> <span class="new-label">linux的命令</span></a>
	        			<a target="_blank" href="http://www.voidcn.com/cata/2038535" title="疑惑"> <span class="new-label">疑惑</span></a>
	        			<a target="_blank" href="http://www.voidcn.com/column/linux" title="Linux"> <span class="new-label">Linux</span></a>
	        			<a target="_blank" href="http://www.voidcn.com/column/network" title="系统网络"> <span class="new-label">系统网络</span></a>
		        		<a target="_blank" href="http://www.voidcn.com/search/kwjuip"><span class="new-label">mfc  命令消息路由</span></a>
		        		<a target="_blank" href="http://www.voidcn.com/search/htsttk"><span class="new-label">Linux命令 中fork</span></a>
		        		<a target="_blank" href="http://www.voidcn.com/search/hggbyi"><span class="new-label">linux中nl命令</span></a>
		        		<a target="_blank" href="http://www.voidcn.com/search/pjztnx"><span class="new-label">route未添加对应的路由</span></a>
		        		<a target="_blank" href="http://www.voidcn.com/search/thmcsa"><span class="new-label">淘宝IP之 2016</span></a>
		        		<a target="_blank" href="http://www.voidcn.com/search/fktjzw"><span class="new-label">linux命令之ps源码,支持linux和android</span></a>
		        		<a target="_blank" href="http://www.voidcn.com/search/pidefe"><span class="new-label">窥探PTAM之基础知识准备</span></a>
		        		<a target="_blank" href="http://www.voidcn.com/search/xtzkli"><span class="new-label">知识工程之父 图灵奖</span></a>
		        		<a target="_blank" href="http://www.voidcn.com/search/pmofcr"><span class="new-label">linux中iw命令安装</span></a>
		        		<a target="_blank" href="http://www.voidcn.com/search/rcljbn"><span class="new-label">linux complete 命令</span></a>
	        </ul>
	    </div>
    
    <div class="article_social">
        <div class="article_like">
            <div class="circle circle-like" id="my_zan" data_id="eEvIVb6"></div>
        </div>
        <div class="clear"></div>
        <div class="share">
			<span class="share-left bdsharebuttonbox bdshare-button-style0-24" data-tag="share_1" data-bd-bind="1527504646903">
				<a href="http://www.voidcn.com/article/p-hwdtjdxx-kd.html#" class="bds_more icon-share" data-cmd="more">
					<span class="bds_count" data-cmd="count" title="累计分享0次">0</span>
				</a>
			</span>
			<div class="share-right action action-share bdsharebuttonbox bdshare-button-style0-24" data-tag="share_1" data-bd-bind="1527504646903">
				<span class="bdshare">
					<a href="http://www.voidcn.com/article/p-hwdtjdxx-kd.html#" class="bds_sinaweibo icon-weibo" data-cmd="tsina" title="分享到新浪微博">分享到微博</a>
					<a href="http://www.voidcn.com/article/p-hwdtjdxx-kd.html#" class="bds_weixin icon-wechat" data-cmd="weixin" title="分享到微信">分享到微信</a>
					<a href="http://www.voidcn.com/article/p-hwdtjdxx-kd.html#" class="bds_qq icon-qq" data-cmd="sqq" title="分享到QQ好友">分享到QQ</a>
				</span>
			</div>
		</div>
		<div class="clear"></div>
        <div class="bottom_plink huodong-detail-plink-banner clearfix">
        </div>
    </div>

	
	<script>
		$(function () {
		    $("#originfo").text("http://blog.csdn.net/u011068702/article/details/53899537");
		    $("#originfo").hover(function(){
		        $("#originfo").attr("href" , "/link?url=http://blog.csdn.net/u011068702/article/details/53899537");
			},function(){
		        $("#originfo").attr("href" , "javascript:void()");
			});
		});
	</script>
	
    <script src="./linux之路由知识之ip route 命令中的疑惑 - 程序园_files/article.js.下载" type="text/javascript"></script>

</div>
<div class="span3 article_right_side">
	<div class="right_top">
		<div id="right_site_articles" class="article_detail_bg">
    <div class="article-part-title">
        <span>每日一句</span>
    </div>
    <ul class="side_article_list">
    	每一个你不满意的现在，都有一个你没有努力的曾经。
    </ul>
</div><script async="" src="./linux之路由知识之ip route 命令中的疑惑 - 程序园_files/f(3).txt"></script>
<!-- 侧边栏 自适应 -->
<ins class="adsbygoogle" style="display: block; height: 0px;" data-ad-client="ca-pub-6208739752673518" data-ad-slot="8798382113" data-ad-format="auto" data-adsbygoogle-status="done"><ins id="aswift_3_expand" style="display: inline-table; border: none; height: 0px; margin: 0px; padding: 0px; position: relative; visibility: visible; width: 281px; background-color: transparent;"><ins id="aswift_3_anchor" style="display: block; border: none; height: 0px; margin: 0px; padding: 0px; position: relative; visibility: visible; width: 281px; background-color: transparent; overflow: hidden; opacity: 0;"><iframe width="281" height="600" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_3" name="aswift_3" style="left:0;position:absolute;top:0;width:281px;height:600px;" src="./linux之路由知识之ip route 命令中的疑惑 - 程序园_files/saved_resource(3).html"></iframe></ins></ins></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

    <div id="right_site_articles">
        <div class="article-part-title">
            <span>最新文章</span>
        </div>
        <ul class="side_article_list">
	                <li class="side_article_list_item">1.
	                    <a href="http://www.voidcn.com/article/p-bwyregsn-bro.html" target="_blank" title="JAVA 时分秒累加"> JAVA 时分秒累加 </a>
	                </li>
	                <li class="side_article_list_item">2.
	                    <a href="http://www.voidcn.com/article/p-ylgcocnv-bro.html" target="_blank" title="svn add"> svn add </a>
	                </li>
	                <li class="side_article_list_item">3.
	                    <a href="http://www.voidcn.com/article/p-pookjout-bro.html" target="_blank" title="压缩图片的工具网站"> 压缩图片的工具网站 </a>
	                </li>
	                <li class="side_article_list_item">4.
	                    <a href="http://www.voidcn.com/article/p-ngxvflmd-bro.html" target="_blank" title="各自深度网络特征比较"> 各自深度网络特征比较 </a>
	                </li>
	                <li class="side_article_list_item">5.
	                    <a href="http://www.voidcn.com/article/p-wfnxtnqh-bro.html" target="_blank" title="Tensorflow安装问题: Could not find a version that satisfies the requirement tensorflow"> Tensorflow安装问题: Could not find a version that satisfies the requirement tensorflow </a>
	                </li>
	                <li class="side_article_list_item">6.
	                    <a href="http://www.voidcn.com/article/p-xuwspmif-bro.html" target="_blank" title="NET多线程之基础理论"> NET多线程之基础理论 </a>
	                </li>
	                <li class="side_article_list_item">7.
	                    <a href="http://www.voidcn.com/article/p-egjmbeuu-bro.html" target="_blank" title="linux随手笔记"> linux随手笔记 </a>
	                </li>
	                <li class="side_article_list_item">8.
	                    <a href="http://www.voidcn.com/article/p-kzwaqrwm-bro.html" target="_blank" title="keras中自定义验证集的性能评估（ROC,AUC）"> keras中自定义验证集的性能评估（ROC,AUC） </a>
	                </li>
	                <li class="side_article_list_item">9.
	                    <a href="http://www.voidcn.com/article/p-kafzlkuz-bro.html" target="_blank" title="Spark中RDD操作"> Spark中RDD操作 </a>
	                </li>
	                <li class="side_article_list_item">10.
	                    <a href="http://www.voidcn.com/article/p-yhqmoqsy-bro.html" target="_blank" title="深入理解JVM之三：垃圾回收算法"> 深入理解JVM之三：垃圾回收算法 </a>
	                </li>
        </ul>
        
        
    </div>

	</div>
	
	<div class="operate_zone" style="position: fixed; top: 60px; width: 197px;">


    <div id="right_site_articles">
        <div class="article-part-title">
            <span>相关文章</span>
        </div>
        <ul class="side_article_list">
	                <li class="side_article_list_item">1.
	                    <a href="http://www.voidcn.com/article/p-swrabrxh-bee.html" target="_blank" title="linux之路由知识之ip route 命令中的疑惑"> linux之路由知识之ip route 命令中的疑惑 </a>
	                </li>
	                <li class="side_article_list_item">2.
	                    <a href="http://www.voidcn.com/article/p-pbcnuzzj-kd.html" target="_blank" title="linux之ip route命令"> linux之ip route命令 </a>
	                </li>
	                <li class="side_article_list_item">3.
	                    <a href="http://www.voidcn.com/article/p-egsyekrf-bhu.html" target="_blank" title="linux 路由　route命令"> linux 路由　route命令 </a>
	                </li>
	                <li class="side_article_list_item">4.
	                    <a href="http://www.voidcn.com/article/p-chwduwlg-yx.html" target="_blank" title="Linux命令之route - 显示和操作IP路由表"> Linux命令之route - 显示和操作IP路由表 </a>
	                </li>
	                <li class="side_article_list_item">5.
	                    <a href="http://www.voidcn.com/article/p-avxzyyam-bdo.html" target="_blank" title="路由器命令知识"> 路由器命令知识 </a>
	                </li>
	                <li class="side_article_list_item">6.
	                    <a href="http://www.voidcn.com/article/p-deqecykb-ben.html" target="_blank" title="linux命令之route命令"> linux命令之route命令 </a>
	                </li>
	                <li class="side_article_list_item">7.
	                    <a href="http://www.voidcn.com/article/p-txjmvwth-pz.html" target="_blank" title="Linux命令之route"> Linux命令之route </a>
	                </li>
	                <li class="side_article_list_item">8.
	                    <a href="http://www.voidcn.com/article/p-adiwryro-bgz.html" target="_blank" title="linux之route命令"> linux之route命令 </a>
	                </li>
	                <li class="side_article_list_item">9.
	                    <a href="http://www.voidcn.com/article/p-uaksnrgr-bhv.html" target="_blank" title="linux 命令之 route"> linux 命令之 route </a>
	                </li>
	                <li class="side_article_list_item">10.
	                    <a href="http://www.voidcn.com/article/p-daszmuce-uz.html" target="_blank" title="linux 路由表的一点疑惑"> linux 路由表的一点疑惑 </a>
	                </li>
        </ul>
        
        	<div style="padding-left:10px;font-size:14px;padding-bottom:10px;">
        		<a href="http://www.voidcn.com/relative/p-hwdtjdxx-kd.html" target="_blank" title="linux之路由知识之ip route 命令中的疑惑 的相关文章"> &gt;&gt;更多相关文章&lt;&lt; </a>
    		</div>
        
    </div>

<div id="right_site_articles" class="article_detail_bg margin-top10">
    <div class="article-part-title">
        <span><a href="http://www.voidcn.com/contact" target="_blank">本站公众号</a></span>
    </div>
    <div class="side_article_list user-head">
    	<span style="color: #5ba607;font-size:14px;">&nbsp;&nbsp;&nbsp;欢迎关注本站公众号,获取更多程序园信息</span><br>
    	<img src="./linux之路由知识之ip route 命令中的疑惑 - 程序园_files/qrcode_develong_1.jpg" alt="开发小院">
    </div>
</div>	</div>
</div>

	</div>

	<script type="text/javascript">
        $('table').each(function (i) {
            var size = $(this).children().size();
            if (size > 1) {
                $(this).attr('class', "table table-bordered");
            } else if (size == 1) {
                var e11 = $(this).children(":first");
                var e1 = e11[0];
                var name = e1.nodeName.toLowerCase();
                if ("tbody" == name) {
                    if (e1.children.length > 1) {
                        $(this).attr('class', "table table-bordered");
                    } else if (e1.children.length == 1) {
                        var e12 = e1.children[0];
                        var name2 = e12.nodeName.toLowerCase();
                        if ("tr" == name2) {
                            if (e12.children.length > 1) {
                                $(this).attr('class', "table table-bordered");
                            }
                        }
                    }
                }
            }
        });
        window.page = 0;
        window.last = 0;
        window.first = true;
        resize_article_image('#nei', 550);
        
        
        
		+ (function($){
			window._bd_share_config = {
				common: {
					"bdText": "【" + $("title").text() + "】" + $(".post-content p:lt(2)").text(),
					"bdMini": "2",
					"bdMiniList": false,
					"bdPic": $(".post-content img:first") ? $(".post-content img:first").attr("src") : "",
					"bdStyle": "0",
					"bdSize": "24"
				},
				share: [{
					bdCustomStyle: 'http://static02.voidcn.com/voidcn/css/share.css'
				}],
			};
			with(document) 0[(getElementsByTagName("head")[0] || body).appendChild(createElement("script")).src = "http://bdimg.share.baidu.com/static/api/js/share.js?cdnversion=" + ~ ( - new Date() / 36e5)];
		})(window.jQuery);
    </script>
</div>
<script type="text/javascript" src="./linux之路由知识之ip route 命令中的疑惑 - 程序园_files/highlight.pack.js.下载"></script>
<link href="./linux之路由知识之ip route 命令中的疑惑 - 程序园_files/docco.css" media="screen" rel="stylesheet" type="text/css">
<script type="text/javascript">
$('pre').each(function(i, e) {
    hljs.highlightBlock(e, "<span class='indent'>  </span>", false)
});
</script>
<div class="footer">
    <div class="footer-inner" style="padding-top: 50px;padding-bottom: 50px">
        <a href="http://www.voidcn.com/contact" target="_blank">意见反馈</a>
        <a href="http://www.voidcn.com/search">最近搜索</a>
        <a href="http://www.voidcn.com/recent">最新文章</a>
       	<script src="./linux之路由知识之ip route 命令中的疑惑 - 程序园_files/z_stat.php" language="JavaScript"></script><script src="./linux之路由知识之ip route 命令中的疑惑 - 程序园_files/core.php" charset="utf-8" type="text/javascript"></script>
       	
       		<div style="display:none;"><script src="./linux之路由知识之ip route 命令中的疑惑 - 程序园_files/z_stat(1).php" language="JavaScript"></script><script src="./linux之路由知识之ip route 命令中的疑惑 - 程序园_files/core(1).php" charset="utf-8" type="text/javascript"></script><a href="http://www.cnzz.com/stat/website.php?web_id=1261868352" target="_blank" title="站长统计">站长统计</a></div>
    </div>
    <div style="display:none;">
		<script>
		var _hmt = _hmt || [];
		(function() {
		  var hm = document.createElement("script");
		  hm.src = "https://hm.baidu.com/hm.js?05fb07b91f60527211b85c9c9b431b73";
		  var s = document.getElementsByTagName("script")[0]; 
		  s.parentNode.insertBefore(hm, s);
		})();
		</script>
	</div>
</div>

<script type="text/javascript" src="./linux之路由知识之ip route 命令中的疑惑 - 程序园_files/tip.js.下载" async=""></script>


<div class="return" title="返回顶部" style="display: block;"></div><iframe id="google_osd_static_frame_6826420884708" name="google_osd_static_frame" style="display: none; width: 0px; height: 0px;" src="./linux之路由知识之ip route 命令中的疑惑 - 程序园_files/saved_resource(4).html"></iframe></body></html>